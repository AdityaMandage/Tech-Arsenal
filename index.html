<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Tech Arsenal - Security & IT Toolkit</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <style>
        :root {
            /* Theme: Midnight Blue & Electric Indigo */
            --bg-body: #020617;
            /* Slate 950 */
            --bg-nav: rgba(2, 6, 23, 0.85);
            /* Slate 950 transparent */
            --bg-card: #0f172a;
            /* Slate 900 (Darker for contrast against grid) */
            --bg-card-hover: #1e293b;
            /* Slate 800 */

            --text-main: #f8fafc;
            /* Slate 50 */
            --text-muted: #94a3b8;
            /* Slate 400 */

            --accent: #6366f1;
            /* Indigo 500 */
            --accent-hover: #4f46e5;
            /* Indigo 600 */
            --accent-glow: rgba(99, 102, 241, 0.15);

            --border: #1e293b;
            /* Slate 800 */
            --border-light: #334155;

            --max-width: 1600px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            /* Premium Grid Background */
            background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            padding-top: 80px;
            /* Fix overlapped content */
        }

        /* Subtle Vignette */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, var(--bg-body) 100%);
            pointer-events: none;
            z-index: -1;
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 70px;
            background: var(--bg-nav);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .nav-content {
            width: 100%;
            max-width: var(--max-width);
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Stylized Logo */
        .brand {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-main);
            text-decoration: none;
            display: flex;
            align-items: center;
            letter-spacing: -0.03em;
        }

        .brand-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent) 0%, #a855f7 100%);
            color: white;
            border-radius: 8px;
            margin-right: 12px;
            font-size: 1.1rem;
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .brand-text {
            background: linear-gradient(to right, #fff, #cbd5e1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-muted);
            font-size: 0.95rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--text-main);
        }

        /* Main Content */
        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 40px;
            /* Added spacing to separate from header visually */
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: end;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--text-main);
            font-weight: 700;
        }

        .section-subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 24px;
            margin-bottom: 80px;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .card:hover {
            transform: translateY(-5px);
            background: var(--bg-card-hover);
            border-color: var(--accent);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
        }

        /* Glass glow effect on hover */
        .card::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .card:hover::after {
            opacity: 1;
        }

        .card-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge-web {
            background: rgba(16, 185, 129, 0.1);
            color: #34d399;
            border: 1px solid rgba(52, 211, 153, 0.2);
        }

        .badge-script {
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.2);
        }

        .card-icon {
            font-size: 2rem;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.05);
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }

        .card h3 {
            font-size: 1.25rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 24px;
            flex-grow: 1;
        }

        .card-footer {
            margin-top: auto;
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 18px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
            text-align: center;
            flex: 1;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            background: var(--accent-hover);
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.5);
            transform: translateY(-1px);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--border-light);
            color: var(--text-muted);
        }

        .btn-outline:hover {
            border-color: var(--text-main);
            color: var(--text-main);
            background: rgba(255, 255, 255, 0.03);
        }

        /* Statuses */
        .loading-state,
        .error-state {
            padding: 80px;
            text-align: center;
            grid-column: 1 / -1;
            background: rgba(15, 23, 42, 0.3);
            border-radius: 16px;
            border: 1px dashed var(--border-light);
            backdrop-filter: blur(4px);
        }

        .error-state {
            border-color: rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .nav-content {
                padding: 0 20px;
            }

            .container {
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-content">
            <a href="#" class="brand">
                <div class="brand-icon">âš¡</div>
                <div class="brand-text">TechArsenal</div>
            </a>
            <div class="nav-links">
                <a href="#" class="nav-link active">Dashboard</a>
                <a href="https://github.com/AdityaMandage/Tech-Arsenal" target="_blank" class="nav-link">GitHub</a>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="container" id="mainContent">
        <div class="loading-state">
            Loading Tech Arsenal...
        </div>
    </main>

    <script>
        // CONFIG
        const CONFIG = {
            repo: 'Tech-Arsenal',
            user: 'AdityaMandage',
            // Define the sections you want to load. 
            // Key = Folder Name (URL encoded), Value = Human Readable fallbacks (optional)
            sections: [
                'Tools%20and%20Scripts',
                'Guides%20and%20Resources'
            ]
        };

        // ICONS
        const ICONS = {
            security: 'ðŸ›¡ï¸', network: 'ðŸ“¡', email: 'ðŸ“§',
            web: 'ðŸŒ', forensic: 'ðŸ”', document: 'ðŸ“š', default: 'âš¡'
        };

        // INIT
        document.addEventListener('DOMContentLoaded', () => {
            initApp();
        });

        async function initApp() {
            const container = document.getElementById('mainContent');

            try {
                // Clear loading state
                container.innerHTML = '';

                // Process each section dynamically
                for (const path of CONFIG.sections) {
                    await renderCategorySection(container, path);
                }

            } catch (e) {
                renderError(container, e.message);
            }
        }

        async function renderCategorySection(container, path) {
            // 1. Fetch Items
            const items = await safeFetchContents(path);
            if (!items || items.length === 0) return; // Skip empty sections

            // Filter for directories (modules)
            const folders = items.filter(i => i.type === 'dir');
            if (folders.length === 0) return;

            // 2. Create Section Header (Derived from Folder Name)
            // Decode URL (e.g. Tools%20and%20Scripts -> Tools and Scripts)
            const sectionName = decodeURIComponent(path).replace(/-/g, ' ');

            const sectionHtml = `
                <div class="section-header">
                    <div>
                        <h2 class="section-title">${sectionName}</h2>
                        <div class="section-subtitle">${folders.length} Items Found</div>
                    </div>
                </div>
                <div class="grid" id="grid-${path}">
                    <!-- Cards go here -->
                </div>
            `;

            // Append Section Wrapper
            const sectionWrapper = document.createElement('div');
            sectionWrapper.innerHTML = sectionHtml;
            container.appendChild(sectionWrapper);

            // 3. Render Cards in Parallel
            const grid = document.getElementById(`grid-${path}`);

            const cardPromises = folders.map(async folder => {
                // Fetch folder contents to check for index.html (Web Artifact)
                const contents = await safeFetchContents(`${path}/${folder.name}`);

                // Heuristics
                const hasIndex = contents && contents.some(f => f.name.toLowerCase() === 'index.html');
                const isWeb = hasIndex;

                // Determine Labels & Badges
                let typeLabel = 'Resource';
                let badgeClass = 'badge-script'; // reuse script style for generic

                if (isWeb) {
                    typeLabel = 'Web App';
                    badgeClass = 'badge-web';
                } else if (path.includes('Tools')) {
                    typeLabel = 'Script/Tool';
                }

                // Determine Icon
                let icon = ICONS.default;
                const nameLower = folder.name.toLowerCase();

                if (path.includes('Guides')) icon = ICONS.document;
                else {
                    if (nameLower.includes('email')) icon = ICONS.email;
                    else if (nameLower.includes('event')) icon = ICONS.forensic;
                    else if (nameLower.includes('net')) icon = ICONS.network;
                    else if (isWeb) icon = ICONS.web;
                }

                // Action URL
                const launchUrl = isWeb
                    ? `${path}/${folder.name}/index.html`
                    : folder.html_url;

                const primaryBtnText = isWeb ? 'Launch' : (path.includes('Guides') ? 'View Files' : 'View Code');
                const primaryBtnClass = isWeb ? 'btn-primary' : (path.includes('Guides') ? 'btn-outline' : 'btn-primary');
                const targetAttr = isWeb ? '' : 'target="_blank"'; // Open web apps in same tab? Or new? Let's use same for seamless feel, or new for safety. User didn't specify. Standard is new tab for external. But this is internal. Let's use new tab for now to be safe.

                return `
                    <div class="card">
                        <span class="card-badge ${badgeClass}">${typeLabel}</span>
                        <div class="card-icon">${icon}</div>
                        <h3>${folder.name.replace(/-/g, ' ')}</h3>
                        <div class="card-footer">
                            <a href="${launchUrl}" class="btn ${primaryBtnClass}" ${isWeb ? '' : 'target="_blank"'}>${primaryBtnText}</a>
                            ${isWeb ? `<a href="${folder.html_url}" class="btn btn-outline" target="_blank">Source</a>` : ''}
                        </div>
                    </div>
                `;
            });

            const cards = await Promise.all(cardPromises);
            grid.innerHTML = cards.join('');
        }

        // ==========================================
        // UTILS
        // ==========================================

        async function safeFetchContents(path) {
            const CACHE_KEY = `techarsenal_${path}`;
            const cached = localStorage.getItem(CACHE_KEY);

            // Cache hit (1 hour)
            if (cached) {
                const { ts, data } = JSON.parse(cached);
                if (Date.now() - ts < 3600000) return data;
            }

            const url = `https://api.github.com/repos/${CONFIG.user}/${CONFIG.repo}/contents/${path}`;

            try {
                const res = await fetch(url);
                if (!res.ok) throw new Error(`API Error: ${res.status}`);
                const data = await res.json();

                localStorage.setItem(CACHE_KEY, JSON.stringify({
                    ts: Date.now(),
                    data
                }));

                return data;
            } catch (e) {
                console.error("Fetch failed:", e);
                return null;
            }
        }

        function renderError(container, msg) {
            container.innerHTML = `
                <div class="error-state">
                    <h3>Connection Failed</h3>
                    <p>${msg}</p>
                    <p style="font-size:0.8rem; margin-top:10px; opacity:0.7">
                        If you are opening this file locally (file://), GitHub API may be blocked by CORS.<br>
                        Please use a local server (VS Code Live Server) or deploy to GitHub Pages.
                    </p>
                </div>
            `;
        }
    </script>
</body>

</html>
```